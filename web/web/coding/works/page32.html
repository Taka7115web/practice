

<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta name="viewport" content="width=device-width,maximum-scale=1.0,minimum-scale=1.0">
  <meta name="format-detection" content="telephone=no">
  <title></title>

  <meta name="keywords" content="foo">
  <meta name="description" content="foo">
  <meta property="og:title" content="">
  <meta property="og:description" content="foo">
  <meta property="og:type" content="website">
  <meta property="og:image" content="/assets/img/og/og.jpg">
  <meta property="og:url" content="http://www.example.com/">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="">

  <link rel="stylesheet" href="/assets/css/coding/c-page.css">
  <link rel="stylesheet" href="/assets/css/coding/prism.css">
  <script type="text/javascript" src="/assets/js/coding/prism.js"></script>
</head>

<body>

<div id="c-page">
  <main class="c-page">

    <page name="work32" tab="3">

      <template slot="mainCont">
        <div class="canvas-parent" id="parent">
          <canvas id="myCanvas"></canvas>
        </div>
      </template>

      <template slot="html">
        <!-- ソースとしてhtmlを記述 -->
      </template>

      <template slot="css">
        .canvas-parent {
        width: 100%;
        height: 100%;
        cursor: pointer;
        }
      </template>

      <template slot="js">
        /**
        * createdのタイミングでinit()関数実行
        */
        window.addEventListener('load', init);

        // ----------------------------------------------------------------------

        //親要素を取得
        let parent = document.getElementById("parent");

        // 親要素の幅と高さを変数化
        let cW = parent.clientWidth;
        let cH = parent.clientHeight;

        // グローバルでの変数定義
        var renderer, scene, camera, controls, directionalLight, geometry, material, sphere, loader, texture;

        // OrbitControls用domElement変数
        let domElement = document.getElementById("myCanvas");

        // カメラ位置
        var cameraPos = {
        x: 1,
        y: 1,
        z: 500
        }

        // 光源位置
        var lightPos = {
        x: -.3,
        y: .7,
        z: .6
        }

        // ----------------------------------------------------------------------

        /**
        * キャンバスの描画内容
        */
        function init() {

        // rendererインスタンス定義(canvas要素にWebGL使用定義)
        renderer = new THREE.WebGLRenderer({
        canvas: document.querySelector('#myCanvas')
        });
        renderer.setPixelRatio(window.devicePixelRatio);
        renderer.setSize(cW, cH);
        renderer.setClearColor("rgb(0, 0, 30)", 1);

        // シーンを定義
        scene = new THREE.Scene();

        // シーンにカメラを定義
        camera = new THREE.PerspectiveCamera(45, cW / cH, 1, 30000);
        // mousedragで、カメラ位置変更
        controls = new OrbitControls(camera, domElement);
        camera.position.set(cameraPos.x, cameraPos.y, cameraPos.z);
        scene.add(camera);

        // シーンに光源(シーンを照らす光)を定義
        directionalLight = new THREE.DirectionalLight('#fff');
        directionalLight.position.set(lightPos.x, lightPos.y, lightPos.z);
        directionalLight.intensity = 1.5;
        scene.add(directionalLight);

        // オブジェクトの形式を定義
        geometry = new THREE.SphereGeometry(100, 100, 100);

        // テクスチャ用の画像を読み込む
        loader = new THREE.TextureLoader();
        texture = loader.load('../../../assets/img/coding/page/kv/planet/earth.jpg');

        // オブジェクトの質感を定義
        material = new THREE.MeshStandardMaterial({
        map: texture
        });

        // 定義した形式とスタイルをもとに、オブジェクトを生成
        sphere = new THREE.Mesh(geometry, material);
        scene.add(sphere);

        // 常に連続的に描画するため、animate()関数実行
        animate();

        }

        // ----------------------------------------------------------------------

        /**
        * 常に連続的に描画するためのアニメーション関数
        */
        function animate() {
        // 球体の自転
        rotation()
        // mousedragでカメラ位置変更
        controls.update();
        // rendererインスタンスにシーンとカメラを渡し、レンダリング
        renderer.render(scene, camera);
        // animate()関数を連続実行
        requestAnimationFrame(animate);
        }

        /**
        * 球体を自転させる関数
        */
        function rotation() {
        sphere.rotation.set(
        0,
        sphere.rotation.y + 0.005,
        sphere.rotation.z + 0.005
        )
        }
      </template>
    </page>
  </main>
</div>

<footer class="footer">

  <nav class="f-nav">
    <ul class="f-ul">
      <li class="f-li f-li--ttl">Web制作</li>
      <li class="f-li"><a href="/coding">コーディングの部屋</a></li>
      <li class="f-li"><a href="">プログラミングの部屋</a></li>
      <li class="f-li"><a href="">デザインの部屋</a></li>
    </ul>
    <ul class="f-ul">
      <li class="f-li f-li--ttl">趣味嗜好</li>
      <li class="f-li"><a href="">花の部屋</a></li>
      <li class="f-li"><a href="">言語の部屋</a></li>
      <li class="f-li"><a href="">願望の部屋</a></li>
    </ul>
    <ul class="f-ul">
      <li class="f-li f-li--ttl">このサイトについて</li>
      <li class="f-li"><a href="" target="_blank">サイトの目的</a></li>
      <li class="f-li"><a href="" target="_blank">免責事項</a></li>
      <li class="f-li"><a href="" target="_blank">利用規約</a></li>
    </ul>
    <ul class="f-ul">
      <li class="f-li f-li--ttl">47fkin</li>
      <li class="f-li"><a href="" target="_blank">47fkinについて</a></li>
    </ul>
    <a href="" target="_blank"></a>

  </nav>

  <p class="f-copy">
    COPYRIGHT © 47fkin. ALL RIGHTS RESERVED.
  </p>

</footer>

<!-- css manipulation ----------------------------------------- -->
<style type="text/css">
  .canvas-parent {
    width: 100%;
    height: 100%;
    cursor: pointer;
  }

</style>

<!-- call the common javascript ------------------------------------ -->
<script type="text/javascript" src="/assets/js/coding/c-page.js"></script>

<!------------------------------------------- javascript manipulatio -->

</body>

</html>
